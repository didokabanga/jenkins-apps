pipeline {

  agent any

  environment {
    PATH = "/opt/maven/bin:$PATH"
    MAVEN_HOME = tool name: 'MY_MAVEN3', type: 'maven'
  }

  stages {

    stage("Git Checkout"){
      steps{
          git branch: 'main', url: 'https://github.com/didokabanga/jenkins-apps.git'
      }
    }

    stage("Maven Build"){
      steps{
          echo "PATH is: $PATH"
          sh "mvn clean package"
      }
    }

  }

}
